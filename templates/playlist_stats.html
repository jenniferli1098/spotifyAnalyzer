{% extends "layout.html" %}
{% block style %}
<style>
    /* Three column layout */
    .side {
        float: left;
        width: 20%;
        margin-top: 10px;
    }

    .middle {
        margin-top: 10px;
        float: left;
        width: 60%;
    }

    /* Clear floats after the columns */
    .row:after {
        content: "";
        display: table;
        clear: both;
    }

    /* The bar container */
    .bar-container {
        width: 100%;
        background-color: #f1f1f1;
        text-align: center;
        color: white;
    }

    .bar-dance {
        width: 100%;
        height: 18px;
        background-color: #4CAF50;
    }

    /* Responsive layout - make the columns stack on top of each other instead of next to each other */
    @media (max-width: 400px) {

        .side,
        .middle {
            width: 100%;
        }

        .right {
            display: none;
        }
    }

   
</style>
{% endblock %}

{% block title %}
Playlist Stats
{% endblock %}

{% block main %}
<div class="container">
    <div class="row">
        <div class="col-sm-12 col-md-3">
            <img src="{{info['imgUrl']}}">
        </div>
        <div class="col-sm col-md">
            <div>
            <h2 class="text-left p-3">{{info['name']}}</h2>
            <p class="text-left p-3">{{info['text']}}</p>
            </div>


            <div class="row">
                <div class="side">
                    <div>Danceability</div>
                </div>
                <div class="middle">
                    <div class="bar-container">
                        {%if features['danceability']>0.9%}
                        <div class="bar-dance" style="width:100%"></div>
                        {%elif features['danceability']>0.7%}
                        <div class="bar-dance" style="width:80%"></div>
                        {%elif features['danceability']>0.5%}
                        <div class="bar-dance" style="width:60%"></div>
                        {%elif features['danceability']>0.3%}
                        <div class="bar-dance" style="width:40%"></div>
                        {%elif features['danceability']>0.1%}
                        <div class="bar-dance" style="width:20%"></div>
                        {%else%}
                        <div class="bar-dance" style="width:0%"></div>
                        {%endif%}
                    </div>
                </div>
                <div class="side">
                    <div>{{features['danceability']}}</div>
                </div>

                <div class="side">
                    <div>Energy</div>
                </div>
                <div class="middle">
                    <div class="bar-container">
                        {%if features['energy']>0.9%}
                        <div class="bar-dance" style="width:100%"></div>
                        {%elif features['energy']>0.7%}
                        <div class="bar-dance" style="width:80%"></div>
                        {%elif features['energy']>0.5%}
                        <div class="bar-dance" style="width:60%"></div>
                        {%elif features['energy']>0.3%}
                        <div class="bar-dance" style="width:40%"></div>
                        {%elif features['energy']>0.1%}
                        <div class="bar-dance" style="width:20%"></div>
                        {%else%}
                        <div class="bar-dance" style="width:0%"></div>
                        {%endif%}
                    </div>
                </div>
                <div class="side">
                    <div>{{features['energy']}}</div>
                </div>

                <div class="side">
                    <div>Loudness</div>
                </div>
                <div class="middle">
                    <div class="bar-container">
                        {%if features['loudness']>-5%}
                        <div class="bar-dance" style="width:100%"></div>
                        {%elif features['loudness']>-10%}
                        <div class="bar-dance" style="width:80%"></div>
                        {%elif features['loudness']>-20%}
                        <div class="bar-dance" style="width:60%"></div>
                        {%elif features['loudness']>-30%}
                        <div class="bar-dance" style="width:40%"></div>
                        {%elif features['loudness']>-40%}
                        <div class="bar-dance" style="width:20%"></div>
                        {%else%}
                        <div class="bar-dance" style="width:0%"></div>
                        {%endif%}
                    </div>
                </div>
                <div class="side">
                    <div>{{features['loudness']}}</div>
                </div>




                <div class="side">
                    <div>Valence</div>
                </div>
                <div class="middle">
                    <div class="bar-container">
                        {%if features['valence']>0.9%}
                        <div class="bar-dance" style="width:100%"></div>
                        {%elif features['valence']>0.7%}
                        <div class="bar-dance" style="width:80%"></div>
                        {%elif features['valence']>0.5%}
                        <div class="bar-dance" style="width:60%"></div>
                        {%elif features['valence']>0.3%}
                        <div class="bar-dance" style="width:40%"></div>
                        {%elif features['valence']>0.1%}
                        <div class="bar-dance" style="width:20%"></div>
                        {%else%}
                        <div class="bar-dance" style="width:0%"></div>
                        {%endif%}
                    </div>
                </div>
                <div class="side">
                    <div>{{features['valence']}}</div>
                </div>

            </div>
        </div>
    </div>



    <br>
    

    <table class="table table-hover">
        {%if rows%}
        <thead>
            <tr>
                <th scope="col">TITLE</th>
                <th scope="col">Artist</th>
            </tr>
        </thead>
        {%endif%}
        <tbody>
            {%for row in rows%}
            <tr>

                <td><a href="/song/{{row['id']}}">{{row["name"]}}</a></td>

                <td>{{row["artist"]}}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% endblock %}